<h1 id="static-site-built-using-11ty.dev">Static site built using 11ty.dev <a class="direct-link" href="#static-site-built-using-11ty.dev">#</a></h1><p>This is a static site built using 11ty.dev.</p><p>Here is a quick rundown of the repo layout:</p><pre><code>├── .eleventy.js -- static site configuration (mostly copied from 11ty.dev)
├── about.njk - /about/
├── Archive.njk - /Archives/
├── Archives.njk - /Archives/2040-01/
├── contact.njk - /contact/
├── css - css for static site
├── _data
│   ├── config.js - static site configuration (notice homeCollections)
│   ├── defcons.json - list of sections included in right nav
│   └── googlefonts.js - fonts
├── _datacache - fons
│   └── google-fonts-roboto-mono
├── DC14 - Posts live in markdown files under DCXXX
│   └── PostCon.md - DC14/Postcon post
|-- DCXXX ... - more defcons
├── DC.njk - Renders DCXX posts under /DCXX/
├── _includes
│   ├── components
│   │   ├── font-titles.css - fonts
│   │   └── ga.js - include google analytisc
│   ├── footer.njk -
│   ├── fragments - templates included from other templates
│   │   └── post.njk - a post component
│   ├── header.njk - the standard header
│   ├── layouts
│   │   ├── base.njk - base template
│   │   ├── main.njk - page with content (exends base)
│   │   └── post.njk - page with single post (extends base)
│   └── skins - CSS from crack theme
├── index.njk - the Home page
├── login.njk - the /login/ joke
├── media - STATIC FILES LIVE HERE
├── README.md
├── redirect.json - (incomplete) list of redirects
└── soup.py - script used as oneoff to import data
</code></pre><h1 id="bootstrap">bootstrap <a class="direct-link" href="#bootstrap">#</a></h1><p>Make sure you have nodejs installed and run <code>npm install</code> from the root of the<br>repo.</p><h1 id="adding-a-post">Adding a post <a class="direct-link" href="#adding-a-post">#</a></h1><p>Copy a post from another section and modify as necessary:</p><pre><code>cp DC26/Thanks.md DC100/Thanks.md
</code></pre><p>Then build the site and verify it looks OK:</p><pre><code>DEBUG=DC* npx @11ty/eleventy --serve
</code></pre><p>Optionally, watch repo to automatically rebuild:</p><pre><code>DEBUG=* npx @11ty/eleventy --watch
</code></pre><h1 id="adding-a-section-(new-defcon)">Adding a section (new defcon) <a class="direct-link" href="#adding-a-section-(new-defcon)">#</a></h1><p>Edit the file <code>_data/defcons.json</code> adding a new defcon entry at the end of the<br>array. This file controls the sections listed in the right nav.</p><p>Edit the file <code>_data/config.js</code> changing the <code>homeCollections</code> to include the<br>most recent N defcons. This file controls the posts inlined on the home section.</p><h1 id="todo">Todo <a class="direct-link" href="#todo">#</a></h1><h2 id="hosting-+-deploy">hosting + deploy <a class="direct-link" href="#hosting-+-deploy">#</a></h2><p>Setup hosting (netlify?)<br>Configure a deployment</p><h2 id="slugs-and-redirects">slugs and redirects <a class="direct-link" href="#slugs-and-redirects">#</a></h2><p>We should make all of the urls generate a canonical url from the<br>(section,title).</p><p>We should setup 3xx redirects from the legacy (index.php) urls to the canonical<br>urls.</p><h2 id="media-helpers">media helpers <a class="direct-link" href="#media-helpers">#</a></h2><p>We should be using a macro or filter to generate links to media</p><h2 id="layout">layout <a class="direct-link" href="#layout">#</a></h2><p>The layout is ported from the legacy CMS so there's a lot of unnecessary html<br>and styles. This can be improved.</p><h2 id="cleanup-.eleventy.js">cleanup .eleventy.js <a class="direct-link" href="#cleanup-.eleventy.js">#</a></h2><p>There's a lot of cruft in this file from the 11ty-docs site. Remove the unused<br>bits.</p>